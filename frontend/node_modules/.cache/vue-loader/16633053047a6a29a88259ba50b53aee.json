{"remainingRequest":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\XHbuilder_projects\\Attendance_manage\\frontend\\src\\views\\marketing\\marketing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\src\\views\\marketing\\marketing.vue","mtime":1645535476104},{"path":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\XHbuilder_projects\\Attendance_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJdmFyIGNoZWNrYnVkZ2V0PShydWxlLCB2YWx1ZSwgY2IpPT57CgkJCWNvbnN0IHJlZ2J1ZGdldCA9IC9eWzAtOV0vCgkJCWlmKHJlZ2J1ZGdldC50ZXN0KHZhbHVlKSl7CgkJCQlyZXR1cm4gY2IoKQoJCQl9CgkJCWNiKG5ldyBFcnJvcigiUGxlYXNlIGlucHV0IHJpZ2h0IGJ1ZGdldCIpKQoJCX0KCQlyZXR1cm4gewoJCQl0b2RheUluZm86e30sCgkJCWRhdGV2YWx1ZTogJycsCgkJCWFkZERhdGFEaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCgkJCWVkaXREYXRhRGlhbG9nRm9ybVZpc2libGU6ZmFsc2UsCgkJCWZvcm1MYWJlbFdpZHRoOicxMjBweCcsCgkJCWZpbGVMaXN0OiBbXSwKCQkJZG93bmxvYWR1cmw6ICIiLAoJCQlyZXNwb25zaWJpbGl0eTogJycsCgkJCWFkZERhdGE6ewoJCQkJLy8gZGF0ZTonJywKCQkJCXJlc3BvbnNpYmxlOicnLAoJCQkJYnVkZ2V0OicnLAoJCQkJcHJvamVjdG5hbWU6JycsIAoJCQkJcmVtYXJrOicnLAoJCQkJY2xpZW50OicnLAoJCQkJbWV0aG9kOicnCgkJCX0sCgkJCWVkaXREYXRhOnt9LAoJCQlwYWdlaW5mbzp7CgkJCQlwYWdlc2l6ZToxNSwKCQkJCXRvdGFsOjAsCgkJCQljdXJyZW50cGFnZToxCgkJCX0sCgkJCXRhYmxlRGF0YTogW10sCgkJCWFjdGlvblVSTCA6ICIiLAoJCQkvLyBkYXRlcGlja2VyCgkJCXBpY2tlck9wdGlvbnM6IHsKCQkJCXNob3J0Y3V0czogW3sKCQkJCQl0ZXh0OiAn5pys5pyIJywKCQkJCQlvbkNsaWNrKHBpY2tlcikgewoJCQkJCQlwaWNrZXIuJGVtaXQoJ3BpY2snLCBbbmV3IERhdGUoKSwgbmV3IERhdGUoKV0pOwoJCQkJCX0KCQkJCX0sIHsKCQkJCQl0ZXh0OiAn5LiA5bm06ZaTJywKCQkJCQlvbkNsaWNrKHBpY2tlcikgewoJCQkJCQljb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwoJCQkJCQljb25zdCBzdGFydCA9IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgMCk7CgkJCQkJCXBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CgkJCQkJfQoJCQkJfSwgewoJCQkJCXRleHQ6ICfmnIDov5Hlha3jg7bmnIgnLAoJCQkJCW9uQ2xpY2socGlja2VyKSB7CgkJCQkJCWNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CgkJCQkJCWNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKCQkJCQkJc3RhcnQuc2V0TW9udGgoc3RhcnQuZ2V0TW9udGgoKSAtIDYpOwoJCQkJCQlwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwoJCQkJCX0KCQkJCX1dCgkJCX0sCgkJCXJ1bGVzOnsKCQkJCWJ1ZGdldDpbe3JlcXVpcmVkOnRydWUsIHRyaWdnZXI6J2JsdXInfSx7dmFsaWRhdG9yOmNoZWNrYnVkZ2V0LCB0cmlnZ2VyOidibHVyJ31dLAoJCQkJcHJvamVjdG5hbWU6WwoJCQkJCQl7cmVxdWlyZWQ6dHJ1ZSwgdHJpZ2dlcjonYmx1cid9LAoJCQkJCQl7bWF4OjUwLCBtZXNzYWdlOiJtYXggbGVuZ3RoIGlzIDUwIix0cmlnZ2VyOidibHVyJ30KCQkJCV0sCgkJCQlyZW1hcms6WwoJCQkJCQl7cmVxdWlyZWQ6dHJ1ZSwgdHJpZ2dlcjonYmx1cid9LAoJCQkJCQl7bWF4OjIwMDAsIG1lc3NhZ2U6Im1heCBsZW5ndGggaXMgMjAwMCIsIHRyaWdnZXI6J2JsdXInfQoJCQkJXSwKCQkJCWNsaWVudDpbCgkJCQkJCXtyZXF1aXJlZDp0cnVlLCB0cmlnZ2VyOidibHVyJ30sCgkJCQkJCXttYXg6NTAsIG1lc3NhZ2U6Im1heCBsZW5ndGggaXMgNTAiLHRyaWdnZXI6J2JsdXInfQoJCQkJXSwKCQkJCW1ldGhvZDpbCgkJCQkJCXtyZXF1aXJlZDp0cnVlLCB0cmlnZ2VyOidibHVyJ30sCgkJCQkJCXttYXg6NTAsIG1lc3NhZ2U6Im1heCBsZW5ndGggaXMgNTAiLHRyaWdnZXI6J2JsdXInfQoJCQkJXSwKCQkJCXJlc3BvbnNpYmxlOlsKCQkJCQkJe3JlcXVpcmVkOnRydWUsIHRyaWdnZXI6J2JsdXInfSwKCQkJCQkJe21heDoyMCwgbWVzc2FnZToibWF4IGxlbmd0aCBpcyA1MCIsdHJpZ2dlcjonYmx1cid9CgkJCQldLAoJCQl9CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5nZXREYXRhKCkKCQljb25zb2xlLmxvZyh0aGlzLnRhYmxlRGF0YSkKCX0sCgltZXRob2RzOnsKCQkvLyDlvZPml6XmnJ/pgInmi6nlmajlj5HnlJ/lj5jljJbml7bvvIzlkJHmnI3liqHlmajor7fmsYLmlbDmja4KCQlkYXRhQ2hhbmdlSGFuZGxlcih2YWx1ZSkgewoJCQl0aGlzLmdldERhdGEoKQoJCX0sCgkJLy8g5ZCR5pyN5Yqh5Zmo6K+35rGC5pWw5o2uCgkJYXN5bmMgZ2V0RGF0YSgpIHsKCQkJaWYodGhpcy5kYXRldmFsdWVbMF0hPT11bmRlZmluZWQmJiB0aGlzLmRhdGV2YWx1ZVsxXSE9PXVuZGVmaW5lZCl7CgkJCQljb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdtYXJrZXRpbmcvdGFibGVkYXRhJyx7c3RhcnQ6dGhpcy5kYXRldmFsdWVbMF0sZW5kOnRoaXMuZGF0ZXZhbHVlWzFdLCBwYWdlOnRoaXMucGFnZWluZm99KQoJCQkJdGhpcy50YWJsZURhdGEgPSByZXMudGFibGVEYXRhCgkJCQl0aGlzLnBhZ2VpbmZvLnRvdGFsID0gcmVzLnRvdGFsCgkJCQl0aGlzLnRvZGF5SW5mbyA9IHJlcy50b2RheWluZm8KCQkJCXRoaXMucmVzcG9uc2liaWxpdHkgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpCgkJCQl0aGlzLmVkaXREYXRhLnJlc3BvbnNpYmxlID0gdGhpcy5yZXNwb25zaWJpbGl0eQoJCQkJdGhpcy5hZGREYXRhLnJlc3BvbnNpYmxlID0gdGhpcy5yZXNwb25zaWJpbGl0eQoJCQl9ZWxzZXsKCQkJCWNvbnN0IHtkYXRhOnJlc30gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ21hcmtldGluZy90YWJsZWRhdGEnLHtzdGFydDonJywgZW5kOiIiLCBwYWdlOiB0aGlzLnBhZ2VpbmZvfSkKCQkJCXRoaXMudGFibGVEYXRhID0gcmVzLnRhYmxlRGF0YQoJCQkJdGhpcy5wYWdlaW5mby50b3RhbCA9IHJlcy50b3RhbAoJCQkJdGhpcy50b2RheUluZm8gPSByZXMudG9kYXlpbmZvCgkJCQl0aGlzLnJlc3BvbnNpYmlsaXR5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXInKQoJCQkJdGhpcy5lZGl0RGF0YS5yZXNwb25zaWJsZSA9IHRoaXMucmVzcG9uc2liaWxpdHkKCQkJCXRoaXMuYWRkRGF0YS5yZXNwb25zaWJsZSA9IHRoaXMucmVzcG9uc2liaWxpdHkKCQkJfQoJCX0sCgkJLy8g5LiO5pyN5Yqh5Zmo5Lqk5LqS77yM5Yig6Zmk5pWw5o2uCgkJYXN5bmMgZGVsZXRlVGFibGVEYXRhKGlkKXsKCQkJY29uc29sZS5sb2coJ2RlbGV0ZTonK2lkKQoJCQljb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdtYXJrZXRpbmcvZGVsZXRlJyx7aWQ6aWR9KQoJCQlpZihyZXMuY29kZT09MjAwKXsKCQkJCXRoaXMuZ2V0RGF0YSgpCgkJCQlyZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJEZWxldGUgZGF0YSBzdWNjZXNzIikKCQkJfWVsc2V7CgkJCQlyZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigiRGVsZXRlIGRhdGEgZmFpbGVkIikKCQkJfQoJCX0sCgkJLy8g5omT5byA57yW6L6R5a+56K+d5qGG77yM57yW6L6R5pWw5o2uCgkJZWRpdFRhYmxlRGF0YShkYXRhKXsKCQkJdGhpcy5lZGl0RGF0YURpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQoJCQl0aGlzLmVkaXREYXRhID0gZGF0YQoJCX0sCgkJLy8g5YWz6Zet57yW6L6R5a+56K+d5qGGCgkJY2xvc2VFZGl0RGlhbG9nKCl7CgkJCXRoaXMuZWRpdERhdGFEaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCgkJfSwKCQljbG9zZURpYWxvZygpewoJCQl0aGlzLiRyZWZzWydhZGREYXRhRm9ybVJlZiddLnJlc2V0RmllbGRzKCkKCQkJdGhpcy5hZGREYXRhRGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQoJCX0sCgkJdmFsaWRhdGVGb3JtKCl7CgkJCXRoaXMuJHJlZnNbJ2FkZERhdGFGb3JtUmVmJ10udmFsaWRhdGUoKHZhbGlkKT0+ewoJCQkJaWYodmFsaWQpewoJCQkJCXRoaXMuYWRkVGFibGVEYXRhKCkKCQkJCX1lbHNlewoJCQkJCXJldHVybiBmYWxzZQoJCQkJfQoJCQl9KQoJCX0sCgkJdmFsaWRhdGVFZGl0Rm9ybSgpewoJCQl0aGlzLiRyZWZzWydlZGl0RGF0YUZvcm1SZWYnXS52YWxpZGF0ZSgodmFsaWQpPT57CgkJCQlpZih2YWxpZCl7CgkJCQkJdGhpcy51cGxvYWREYXRhKCkKCQkJCX1lbHNlewoJCQkJCXJldHVybiBmYWxzZQoJCQkJfQoJCQl9KQoJCX0sCgkJYXN5bmMgdXBsb2FkRGF0YSgpewoJCQljb25zb2xlLmxvZygidXBsb2FkIGRhdGE6Iit0aGlzLmVkaXREYXRhKQoJCQljb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdtYXJrZXRpbmcvdXBkYXRlJywgdGhpcy5lZGl0RGF0YSkKCQkJaWYocmVzLmNvZGU9PTIwMCl7CgkJCQl0aGlzLmNsb3NlRWRpdERpYWxvZygpCgkJCQl0aGlzLmdldERhdGEoKQoJCQkJcmV0dXJuIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygiVXBkYXRlIERhdGEgU3VjY2VzcyIpCgkJCX1lbHNlewoJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcigiVXBkYXRlIERhdGEgRmFpbGVkIikKCQkJfQoJCX0sCgkJLy8g5o+Q5Lqk5pWw5o2uCgkJYXN5bmMgYWRkVGFibGVEYXRhKCl7CgkJCS8vIOmmluWFiOWQkeacjeWKoeWZqOaPkOS6pOihqOWNleaVsOaNru+8jAoJCQljb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdtYXJrZXRpbmcvYWRkaXRlbScsdGhpcy5hZGREYXRhKQoJCQlpZihyZXMuY29kZSA9PSAyMDApewoJCQkJYXdhaXQgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJVcGxvYWRlZCBkYXRhIikKCQkJfWVsc2V7CgkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCJEYXRhIHVwbG9hZCBmYWlsZWQiKQoJCQl9CgkJCQoJCQkvLyB0aGlzLiRyZWZzLmFkZERhdGFGb3JtUmVmLnJlc2V0RmllbGRzKCkKCQkJdGhpcy5hZGREYXRhRGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQoJCQl0aGlzLmdldERhdGEoKQoJCQlyZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJhZGQgVGFiZWwgZGF0YSIpCgkJfSwKCQloYW5kbGVSZW1vdmUoZmlsZSxmaWxlTGlzdCl7CgkJCXZhciBpbmRleCA9IGZpbGVMaXN0LmluZGV4T2YoZmlsZSkKCQkJZmlsZUxpc3Quc3BsaWNlKGluZGV4LDEpCgkJfSwKCQloYW5kbGVTaXplQ2hhbmdlKHBhZ2VzaXplKXsKCQkJY29uc29sZS5sb2coImNoYW5nZSBwYWdlc2l6ZSB0byAiK3BhZ2VzaXplKQoJCQl0aGlzLnBhZ2VpbmZvLmN1cnJlbnRwYWdlID0gMQoJCQl0aGlzLnBhZ2VpbmZvLnBhZ2VzaXplID0gcGFnZXNpemUKCQkJdGhpcy5nZXREYXRhKCkKCQl9LAoJCWhhbmRsZUN1cnJlbnRDaGFuZ2UoY3VycmVudHBhZ2UpewoJCQljb25zb2xlLmxvZygiY2hhbmdlIGN1cnJlbnRwYWdlIHRvICIrY3VycmVudHBhZ2UpCgkJCXRoaXMucGFnZWluZm8uY3VycmVudHBhZ2UgPSBjdXJyZW50cGFnZQoJCQl0aGlzLmdldERhdGEoKQoJCX0sCgkJYXN5bmMgZG93bmxvYWRmaWxlKGlkKXsKCQkJLy8gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ2Nhc2hmbG93L2Rvd25sb2FkZmlsZS8nK2lkKQoJCQl0aGlzLmRvd25sb2FkdXJsID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvY2FzaGZsb3cvZG93bmxvYWRmaWxlLycraWQKCQl9Cgl9Cn0K"},{"version":3,"sources":["marketing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"marketing.vue","sourceRoot":"src/views/marketing","sourcesContent":["<template>\r\n\t<div class='marketing'>\r\n\t\t<!-- 当日收支 -->\r\n\t\t<el-row :gutter=\"20\">\r\n\t\t\t<!-- 当前营业个数 -->\r\n\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t<el-card shadow='always'>\r\n\t\t\t\t\t<div class='contant'>\r\n\t\t\t\t\t\t<div class='topbox'>本日営業数</div>\r\n\t\t\t\t\t\t<div class='income'>{{todayInfo.number}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-col>\r\n\t\t\t<!-- 当前收入 -->\r\n\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t<el-card shadow='always'>\r\n\t\t\t\t\t<div class='contant'>\r\n\t\t\t\t\t\t<div class='topbox'>本日見積金額</div>\r\n\t\t\t\t\t\t<div class='income'>{{todayInfo.account}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<!-- 期間選択  追加数据-->\r\n\t\t<el-card style=\"margin-top: 10px\">\r\n\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t<el-col :span=\"20\" style=\"display: flex;flex-direction: row; align-items: center;\">\r\n\t\t\t\t\t<span style=\"padding-right: 0.5rem;\">期間を選択してください</span>\r\n\t\t\t\t\t<el-date-picker v-model=\"datevalue\" type=\"daterange\" align=\"center\" unlink-panels range-separator=\"To\"\r\n\t\t\t\t\t\t:picker-options=\"pickerOptions\" @change=\"dataChangeHandler\">\r\n\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t<!-- 追加数据按钮 -->\r\n\t\t\t\t\t<el-tooltip content='add' placement=\"top\" effect=\"light\" :enterable=\"false\">\r\n\t\t\t\t\t\t<el-button type='danger' icon='el-icon-plus' circle @click=\"addDataDialogFormVisible = true\"></el-button>\r\n\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-card>\r\n\t\t<!-- 表格数据 -->\r\n\t\t<el-card class='table' :body-style=\"{padding:'12px'}\">\r\n\t\t\t<el-table :data=\"tableData\" style=\"width: 100%\" >\r\n\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"備考\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.remark }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column type='index' label=\"#\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"date\" label=\"日期\" >\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"method\" label=\"営業手段\" >\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"client\" label=\"取引先\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"projectname\" label=\"項目名\" >\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"budget\" label=\"予算\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"responsible\" label=\"担当者\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column>\r\n\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t<el-tooltip content='edit' placement=\"top\" effect=\"light\" :enterable=\"false\">\r\n\t\t\t\t\t\t\t<el-button type='primary' icon='el-icon-edit' size='mini' @click=\"editTableData(props.row)\">\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t<el-tooltip content='delete' placement=\"top\" effect=\"light\" :enterable=\"false\">\r\n\t\t\t\t\t\t\t<el-button type='danger' icon='el-icon-delete' size='mini' @click='deleteTableData(props.row.id)'>\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<el-pagination\r\n\t\t\t  @size-change=\"handleSizeChange\"\r\n\t\t\t  @current-change=\"handleCurrentChange\"\r\n\t\t\t  :current-page=\"pageinfo.currentpage\"\r\n\t\t\t  :page-sizes=\"[15, 50, 100]\"\r\n\t\t\t  :page-size=\"pageinfo.pagesize\"\r\n\t\t\t  layout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t  :total=\"pageinfo.total\">\r\n\t\t\t</el-pagination>\r\n\t\t</el-card>\t\r\n\t\t\r\n\t\t<!-- 添加数据的对话框 -->\r\n\t\t<el-dialog title=\"記録添加\" :visible.sync=\"addDataDialogFormVisible\" width=\"40%\" @close=\"closeDialog()\">\r\n\t\t\t<el-form :model=\"addData\" label-width=\"120px\" ref=\"addDataFormRef\" :rules=\"rules\">\r\n\t\t\t\t<!-- 暂时日期是自动添加为当天的日期 -->\r\n<!-- \t\t\t\t<el-form-item label=\"日付\" prop=\"date\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-date-picker v-model='addData.date' type=\"date\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item> -->\r\n\t\t\t\t<el-form-item label=\"担当者\" prop=\"responsible\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"addData.responsible\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"営業手段\" prop=\"method\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"addData.method\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"項目名\" prop=\"projectname\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model='addData.projectname'></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"取引先\" prop=\"client\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"addData.client\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"予算\" prop=\"budget\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"addData.budget\" ></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"備考\" prop=\"remark\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input type=\"textarea\" v-model='addData.remark' maxlength=\"100\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"closeDialog()\">戻　る</el-button>\r\n\t\t    <el-button type=\"primary\" @click=\"validateForm()\">追　加</el-button>\r\n\t\t  </div>\r\n\t\t</el-dialog>\r\n\t\t<!-- 编辑数据的对话框 -->\r\n\t\t<el-dialog title=\"記録編集\" :visible.sync=\"editDataDialogFormVisible\" width=\"40%\" @close=\"closeEditDialog()\">\r\n\t\t\t<el-form :model=\"editData\" label-width=\"120px\" ref=\"editDataFormRef\" :rules=\"rules\">\r\n\t\t\t\t<!-- 暂时日期是自动添加为当天的日期 -->\r\n<!-- \t\t\t\t<el-form-item label=\"日付\" prop=\"date\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-date-picker v-model='addData.date' type=\"date\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item> -->\r\n\t\t\t\t<el-form-item label=\"担当者\" prop=\"responsible\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"editData.responsible\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"営業手段\" prop=\"method\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"editData.method\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"項目名\" prop=\"projectname\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model='editData.projectname'></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"取引先\" prop=\"client\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"editData.client\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"予算\" prop=\"budget\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input v-model=\"editData.budget\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"備考\" prop=\"remark\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-input type=\"textarea\" v-model='editData.remark' maxlength=\"2000\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button @click=\"closeEditDialog()\">戻　る</el-button>\r\n\t\t\t<el-button type=\"primary\" @click=\"validateEditForm()\">追　加</el-button>\r\n\t\t  </div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tvar checkbudget=(rule, value, cb)=>{\r\n\t\t\t\tconst regbudget = /^[0-9]/\r\n\t\t\t\tif(regbudget.test(value)){\r\n\t\t\t\t\treturn cb()\r\n\t\t\t\t}\r\n\t\t\t\tcb(new Error(\"Please input right budget\"))\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttodayInfo:{},\r\n\t\t\t\tdatevalue: '',\r\n\t\t\t\taddDataDialogFormVisible: false,\r\n\t\t\t\teditDataDialogFormVisible:false,\r\n\t\t\t\tformLabelWidth:'120px',\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tdownloadurl: \"\",\r\n\t\t\t\tresponsibility: '',\r\n\t\t\t\taddData:{\r\n\t\t\t\t\t// date:'',\r\n\t\t\t\t\tresponsible:'',\r\n\t\t\t\t\tbudget:'',\r\n\t\t\t\t\tprojectname:'', \r\n\t\t\t\t\tremark:'',\r\n\t\t\t\t\tclient:'',\r\n\t\t\t\t\tmethod:''\r\n\t\t\t\t},\r\n\t\t\t\teditData:{},\r\n\t\t\t\tpageinfo:{\r\n\t\t\t\t\tpagesize:15,\r\n\t\t\t\t\ttotal:0,\r\n\t\t\t\t\tcurrentpage:1\r\n\t\t\t\t},\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tactionURL : \"\",\r\n\t\t\t\t// datepicker\r\n\t\t\t\tpickerOptions: {\r\n\t\t\t\t\tshortcuts: [{\r\n\t\t\t\t\t\ttext: '本月',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [new Date(), new Date()]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '一年間',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date(new Date().getFullYear(), 0);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '最近六ヶ月',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\tstart.setMonth(start.getMonth() - 6);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\trules:{\r\n\t\t\t\t\tbudget:[{required:true, trigger:'blur'},{validator:checkbudget, trigger:'blur'}],\r\n\t\t\t\t\tprojectname:[\r\n\t\t\t\t\t\t\t{required:true, trigger:'blur'},\r\n\t\t\t\t\t\t\t{max:50, message:\"max length is 50\",trigger:'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tremark:[\r\n\t\t\t\t\t\t\t{required:true, trigger:'blur'},\r\n\t\t\t\t\t\t\t{max:2000, message:\"max length is 2000\", trigger:'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tclient:[\r\n\t\t\t\t\t\t\t{required:true, trigger:'blur'},\r\n\t\t\t\t\t\t\t{max:50, message:\"max length is 50\",trigger:'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tmethod:[\r\n\t\t\t\t\t\t\t{required:true, trigger:'blur'},\r\n\t\t\t\t\t\t\t{max:50, message:\"max length is 50\",trigger:'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tresponsible:[\r\n\t\t\t\t\t\t\t{required:true, trigger:'blur'},\r\n\t\t\t\t\t\t\t{max:20, message:\"max length is 50\",trigger:'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData()\r\n\t\t\tconsole.log(this.tableData)\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 当日期选择器发生变化时，向服务器请求数据\r\n\t\t\tdataChangeHandler(value) {\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\t// 向服务器请求数据\r\n\t\t\tasync getData() {\r\n\t\t\t\tif(this.datevalue[0]!==undefined&& this.datevalue[1]!==undefined){\r\n\t\t\t\t\tconst {data:res} = await this.$http.post('marketing/tabledata',{start:this.datevalue[0],end:this.datevalue[1], page:this.pageinfo})\r\n\t\t\t\t\tthis.tableData = res.tableData\r\n\t\t\t\t\tthis.pageinfo.total = res.total\r\n\t\t\t\t\tthis.todayInfo = res.todayinfo\r\n\t\t\t\t\tthis.responsibility = window.sessionStorage.getItem('user')\r\n\t\t\t\t\tthis.editData.responsible = this.responsibility\r\n\t\t\t\t\tthis.addData.responsible = this.responsibility\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconst {data:res} = await this.$http.post('marketing/tabledata',{start:'', end:\"\", page: this.pageinfo})\r\n\t\t\t\t\tthis.tableData = res.tableData\r\n\t\t\t\t\tthis.pageinfo.total = res.total\r\n\t\t\t\t\tthis.todayInfo = res.todayinfo\r\n\t\t\t\t\tthis.responsibility = window.sessionStorage.getItem('user')\r\n\t\t\t\t\tthis.editData.responsible = this.responsibility\r\n\t\t\t\t\tthis.addData.responsible = this.responsibility\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 与服务器交互，删除数据\r\n\t\t\tasync deleteTableData(id){\r\n\t\t\t\tconsole.log('delete:'+id)\r\n\t\t\t\tconst {data:res} = await this.$http.post('marketing/delete',{id:id})\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t\treturn this.$message.success(\"Delete data success\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn this.$message.error(\"Delete data failed\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开编辑对话框，编辑数据\r\n\t\t\teditTableData(data){\r\n\t\t\t\tthis.editDataDialogFormVisible = true\r\n\t\t\t\tthis.editData = data\r\n\t\t\t},\r\n\t\t\t// 关闭编辑对话框\r\n\t\t\tcloseEditDialog(){\r\n\t\t\t\tthis.editDataDialogFormVisible = false\r\n\t\t\t},\r\n\t\t\tcloseDialog(){\r\n\t\t\t\tthis.$refs['addDataFormRef'].resetFields()\r\n\t\t\t\tthis.addDataDialogFormVisible = false\r\n\t\t\t},\r\n\t\t\tvalidateForm(){\r\n\t\t\t\tthis.$refs['addDataFormRef'].validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\tthis.addTableData()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tvalidateEditForm(){\r\n\t\t\t\tthis.$refs['editDataFormRef'].validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\tthis.uploadData()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync uploadData(){\r\n\t\t\t\tconsole.log(\"upload data:\"+this.editData)\r\n\t\t\t\tconst {data:res} = await this.$http.post('marketing/update', this.editData)\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tthis.closeEditDialog()\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t\treturn this.$message.success(\"Update Data Success\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error(\"Update Data Failed\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 提交数据\r\n\t\t\tasync addTableData(){\r\n\t\t\t\t// 首先向服务器提交表单数据，\r\n\t\t\t\tconst {data:res} = await this.$http.post('marketing/additem',this.addData)\r\n\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\tawait this.$message.success(\"Uploaded data\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error(\"Data upload failed\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// this.$refs.addDataFormRef.resetFields()\r\n\t\t\t\tthis.addDataDialogFormVisible = false\r\n\t\t\t\tthis.getData()\r\n\t\t\t\treturn this.$message.success(\"add Tabel data\")\r\n\t\t\t},\r\n\t\t\thandleRemove(file,fileList){\r\n\t\t\t\tvar index = fileList.indexOf(file)\r\n\t\t\t\tfileList.splice(index,1)\r\n\t\t\t},\r\n\t\t\thandleSizeChange(pagesize){\r\n\t\t\t\tconsole.log(\"change pagesize to \"+pagesize)\r\n\t\t\t\tthis.pageinfo.currentpage = 1\r\n\t\t\t\tthis.pageinfo.pagesize = pagesize\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(currentpage){\r\n\t\t\t\tconsole.log(\"change currentpage to \"+currentpage)\r\n\t\t\t\tthis.pageinfo.currentpage = currentpage\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\tasync downloadfile(id){\r\n\t\t\t\t// await this.$http.get('cashflow/downloadfile/'+id)\r\n\t\t\t\tthis.downloadurl = 'http://127.0.0.1:8000/api/cashflow/downloadfile/'+id\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t.topbox{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\t.income {\r\n\t\tfont-weight: bolder;\r\n\t\tcolor: #000000;\r\n\t\tfont-size: 30px;\r\n\t\tmargin-top: 0px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.expenses {\r\n\t\tfont-weight: bolder;\r\n\t\tcolor: #c3737c;\r\n\t\tfont-size: 30px;\r\n\t\tmargin-top: 0px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.rest {\r\n\t\tfont-weight: bolder;\r\n\t\tcolor: #7dc373;\r\n\t\tfont-size: 30px;\r\n\t\tmargin-top: 0px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.contant {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.table {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.el-table .warning-row {\r\n\t\tbackground: oldlace;\r\n\t}\r\n\r\n\t.el-table .success-row {\r\n\t\tbackground: #c8f5a3;\r\n\t}\r\n\t.demo-table-expand {\r\n\t\tfont-size: large;\r\n\t}\r\n\t.demo-table-expand label {\r\n\t\twidth: 90px;\r\n\t\tcolor: #99a9bf;\r\n\t\t}\r\n\t.demo-table-expand .el-form-item {\r\n\t\tmargin-right: 0;\r\n\t\tmargin-bottom: 10px;\r\n\t\twidth: 100%;\r\n\t\t\r\n\t}\t\r\n</style>\r\n"]}]}